<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
    const firebaseConfig = {
        databaseURL: "https://menu-restaurant-default-rtdb.firebaseio.com/"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function loadMenu() {
        const menuGrid = document.getElementById('menuGrid');
        
        // استماع للتغييرات في قاعدة البيانات فوراً
        database.ref('menu').on('value', (snapshot) => {
            const data = snapshot.val();
            if (!data) {
                menuGrid.innerHTML = "<h3>لا توجد وجبات حالياً</h3>";
                return;
            }

            const items = Object.values(data);
            menuGrid.innerHTML = items.map(item => `
                <div class="menu-item">
                    <img src="${item.image}">
                    <div class="item-info">
                        <h3>${item.name}</h3>
                        <p>${item.price} د.ج</p>
                    </div>
                </div>
            `).join('');
        });
    }
    window.onload = loadMenu;
</script>
